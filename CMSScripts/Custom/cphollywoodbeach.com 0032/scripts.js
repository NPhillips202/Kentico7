jQuery(function(){function b(){jQuery("#sliderPosition").css("padding-top",jQuery("#headerWrapper").height()+"px"),jQuery("#subpageImg").css("padding-top",jQuery("#headerWrapper").height()+"px")}function c(){var a=jQuery("#sliderWrapper.home"),b=jQuery(window).height(),c=jQuery("#headerWrapper").outerHeight()+jQuery("#footerWrapper").outerHeight(),d=b-c;d>440?a.height(d):a.height(440)}function d(){return"block"==jQuery("#mobileMenuBtn").css("display")}function e(){d()&&jQuery('input[name*="timePicker"]').each(function(){jQuery(this).get(0).type="date",jQuery(this).next("img").remove()})}function f(){var a=jQuery("<nav />").attr("id","menu"),b=jQuery('<ul class="links"></ul>'),c=jQuery("#mainNav > ul").clone();c.find("> li").each(function(){b.append(jQuery(this))}),a.append(b),b.prepend('<li><a href="/">Home</li>'),b.prepend('<li><a href="http://www.ihg.com/crowneplaza/hotels/us/en/hollywood/fllso/hoteldetail" target="_blank">Reservations</li>'),b.append(jQuery("#footerMenu ul").html()),a.prependTo("#pageWrapper"),jQuery("nav#menu").mmenu({classes:"mm-cp",labels:!0,offCanvas:{position:"right"}}),jQuery("nav#menu").css("z-index","102"),jQuery("#ui-datepicker-div").parent().removeClass("mm-page mm-slideout"),jQuery("#form").addClass("mm-page mm-slideout")}function g(){var a=jQuery("#reservationBtn"),b=a.position();jQuery("#bookingMask").css("right",jQuery(document).width()-(b.left+92)+"px")}function h(a){return a=a||navigator.userAgent,a.indexOf("MSIE ")>-1||a.indexOf("Trident/")>-1||a.indexOf("Firefox")>-1}function i(){jQuery(window).width()>500&&jQuery("#footerMenu #mobileMenu ul").css("display","inline-block")}function j(){0===jQuery("#languageDrop ul").find(".HighLighted").length?jQuery("#languageDrop ul").prepend('<li class="HighLighted"><a href="/">English</a></li>'):jQuery("#languageDrop ul").prepend('<li><a href="/">English</a></li>');var a=jQuery("#languageDrop ul").find(".HighLighted").text();jQuery("#languageDrop .langText").text(a),jQuery("#languageDrop").click(function(){jQuery("#languageDrop ul").slideToggle()}),jQuery(document).click(function(a){jQuery(a.target).closest("#languageDrop").length||jQuery("#languageDrop ul").slideUp()})}function k(){0===jQuery("#langResBlockBottom #languageDropBottom ul").find(".HighLighted").length?jQuery("#langResBlockBottom #languageDropBottom ul").prepend('<li class="HighLighted"><a href="/">English</a></li>'):jQuery("#langResBlockBottom #languageDropBottom ul").prepend('<li><a href="/">English</a></li>');var a=jQuery("#langResBlockBottom #languageDropBottom ul").find(".HighLighted").text();jQuery("#langResBlockBottom #languageDropBottom .langText").text(a),jQuery("#langResBlockBottom #languageDropBottom").click(function(){jQuery("#langResBlockBottom #languageDropBottom ul").slideToggle()}),jQuery(document).click(function(a){jQuery(a.target).closest("#langResBlockBottom #languageDropBottom").length||jQuery("#langResBlockBottom #languageDropBottom ul").slideUp()})}function o(){jQuery(".swiper-back .swiper-slide .slideImg").each(function(){var a=jQuery(this).height(),c=(jQuery(this).width(),jQuery(this).parent().height()),d=jQuery(window).width();if(a<=c)if(jQuery(this).height(c),jQuery(this).width("auto"),jQuery(this).width()<d){jQuery(this).height("auto"),jQuery(this).width(d);var e=-((jQuery(this).height()-jQuery(this).parent().height())/2);jQuery(this).css("margin","0"),jQuery(this).css("margin-top",e)}else{var e=-((jQuery(this).width()-jQuery(this).parent().width())/2);jQuery(this).css("margin","0"),jQuery(this).css("margin-left",e)}else{jQuery(this).height("auto"),jQuery(this).width(d);var e=-((jQuery(this).height()-jQuery(this).parent().height())/2);jQuery(this).css("margin","0"),jQuery(this).css("margin-top",e)}})}var a=Math.round(jQuery("#footer-overlay > a").length/2);if(jQuery(document).width()<500&&jQuery("#footer-overlay a").eq(a-1).after("<br />"),jQuery('a[rel="relativeanchor"]').click(function(a){return a.preventDefault(),jQuery("html, body").animate({scrollTop:jQuery(jQuery.attr(this,"href")).offset().top-jQuery("#headerWrapper").height()-50},1e3),!1}),jQuery("#footerMenu #menuElem").append('<li><a href="#" class="sitemap-toggle">Site Map</a></li>'),WebFont.load({google:{families:["Open+Sans+Condensed:700"]},active:function(){b(),g(),j(),k(),f(),e()}}),jQuery(window).resize(function(){b(),c(),i(),e()}).resize(),h(window.navigator.userAgent))var l=new Swiper(".swiper-front",{slidesPerView:1,spaceBetween:80,loop:!0,centeredSlides:!0,effect:"slide"});else var l=new Swiper(".swiper-front",{slidesPerView:1,spaceBetween:0,loop:!0,centeredSlides:!0,effect:"coverflow",coverflow:{rotate:20,stretch:-140,depth:1e3,modifier:1,slideShadows:!1}});new Swiper(".swiper-back",{nextButton:".nav-next",slidesPerView:1,spaceBetween:0,loop:!0,centeredSlides:!0,effect:"fade",control:l,autoplay:6e3,autoplayDisableOnInteraction:!1,speed:1200}),new Swiper(".swiper-specials",{slidesPerView:1,spaceBetween:0,loop:!0,autoplay:6e3,speed:1200,effect:"slide"});jQuery(".swiper-back .swiper-slide img").load(function(){o()}),jQuery(window).resize(function(){o()}),jQuery("*").click(function(a){var b=jQuery(a.target);b.hasClass("sitemap-toggle")?(a.preventDefault(),a.stopPropagation(),jQuery(".sitemap-float").is(":visible")?jQuery(".sitemap-float").fadeOut(500):jQuery(".sitemap-float").fadeIn(500)):jQuery(".sitemap-float").is(":visible")&&!b.hasClass("sitemap-float")&&!jQuery(".sitemap-float").has(b).length>0&&(b.hasClass(".sitemap-float")||jQuery(".sitemap-float").fadeOut(500))});var p=jQuery("#mainNav > ul > li"),q=200;p.each(function(){var a=jQuery(this).children("ul").width(),b=jQuery(this).outerWidth(),c=a-b;c<0&&jQuery(this).children("ul").width(b+"px")}),p.hover(function(a){jQuery(this).children("ul").length>0&&(("ontouchstart"in window||window.DocumentTouch)&&jQuery(this).one("click",!1),jQuery(this).children("ul").stop(!0,!0).slideDown(q))},function(){jQuery(this).children("ul:visible").slideUp(q)});var r=jQuery("#reservationBlock a");r.click(function(a){a.preventDefault(),a.stopPropagation(),jQuery("#bookingMask").slideToggle(q)}),jQuery(document).click(function(a){var b=jQuery(a.target);console.log(b.closest(".ui-widget").length),0==b.closest("#bookingMask").length&&0==b.closest("#ui-datepicker-div").length&&0==!b.closest("#ui-datepicker-div").length&&jQuery("#bookingMask").slideUp(q)});var s=function(a,b){var c=a.find(".emailSignUp").val();return c!=b&&/(.+)@(.+){2,}\.(.+){2,}/.test(c)?void(document.location.href="/email-signup/?em="+c):(alert("Please enter a valid email address."),a.find(".emailSignUp").focus(),!1)},t=jQuery(".email-form"),u="Sign-up for Newsletter";t.find(".emailSignUp").focus(function(){jQuery(this).val()==u&&jQuery(this).val("")}),t.find(".emailSignUp").blur(function(){""==jQuery(this).val()&&jQuery(this).val(u)}),t.find(".emailSignUp").focus(function(){jQuery(document.body).delegate("input:text","keypress",function(a){13===a.which&&(a.preventDefault(),s(t,u))})}),t.find(".submit img").click(function(a){a.preventDefault(),s(t,u)})});var initPhotoSwipeFromDOM=function(a){for(var b=function(a){for(var e,g,h,i,b=a.childNodes,c=b.length,d=[],j=0;j<c;j++)e=b[j],1===e.nodeType&&(g=e.children[0],h=g.getAttribute("data-size").split("x"),i={src:g.getAttribute("href"),w:parseInt(h[0],10),h:parseInt(h[1],10)},e.children.length>1&&(i.title=e.children[1].innerHTML),g.children.length>0&&(i.msrc=g.children[0].getAttribute("src")),i.el=e,d.push(i));return d},c=function a(b,c){return b&&(c(b)?b:a(b.parentNode,c))},d=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.target||a.srcElement,d=c(b,function(a){return a.tagName&&"FIGURE"===a.tagName.toUpperCase()});if(d){for(var j,e=d.parentNode,g=d.parentNode.childNodes,h=g.length,i=0,k=0;k<h;k++)if(1===g[k].nodeType){if(g[k]===d){j=i;break}i++}return j>=0&&f(j,e),!1}},e=function(){var a=window.location.hash.substring(1),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=e[1])}return b.gid&&(b.gid=parseInt(b.gid,10)),b.hasOwnProperty("pid")?(b.pid=parseInt(b.pid,10),b):b},f=function(a,c,d){var f,g,h,e=document.querySelectorAll(".pswp")[0];h=b(c),g={index:a,galleryUID:c.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(a){var b=h[a].el.getElementsByTagName("img")[0],c=window.pageYOffset||document.documentElement.scrollTop,d=b.getBoundingClientRect();return{x:d.left,y:d.top+c,w:d.width}},history:!1,focus:!1},d&&(g.showAnimationDuration=0),f=new PhotoSwipe(e,PhotoSwipeUI_Default,h,g),f.init()},g=document.querySelectorAll(a),h=0,i=g.length;h<i;h++)g[h].setAttribute("data-pswp-uid",h+1),g[h].onclick=d;var j=e();j.pid>0&&j.gid>0&&f(j.pid-1,g[j.gid-1],!0)};initPhotoSwipeFromDOM(".my-simple-gallery");var getQueryParams=function(a,b){b||(b=location.href),a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+a+"=([^&#]*)",d=new RegExp(c),e=d.exec(b);return null==e?null:e[1]};jQuery(window).bind("load",function(){jQuery(".my-simple-gallery > figure > a").each(function(){var a=getQueryParams("width",jQuery(this).find("> img").attr("src")),b=getQueryParams("height",jQuery(this).find("> img").attr("src"));jQuery(this).attr("data-size",a+"x"+b)})});