!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b:a.fluidvids=b()}(this,function(){"use strict";function d(b){return new RegExp("^(https?:)?//(?:"+a.players.join("|")+").*$","i").test(b)}function e(a,b){return parseInt(a,10)/parseInt(b,10)*100+"%"}function f(a){if((d(a.src)||d(a.data))&&!a.getAttribute("data-fluidvids")){var b=document.createElement("div");a.parentNode.insertBefore(b,a),a.className+=(a.className?" ":"")+"fluidvids-item",a.setAttribute("data-fluidvids","loaded"),b.className+="fluidvids",b.style.paddingTop=e(a.height,a.width),b.appendChild(a)}}function g(){var a=document.createElement("div");a.innerHTML="<p>x</p><style>"+b+"</style>",c.appendChild(a.childNodes[1])}var a={selector:["iframe","object"],players:["www.youtube.com","player.vimeo.com","wowza.floridakeysmedia.com"]},b=[".fluidvids {","width: 100%; max-width: 100%; position: relative;","}",".fluidvids-item {","position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;","}"].join(""),c=document.head||document.getElementsByTagName("head")[0];return a.render=function(){for(var b=document.querySelectorAll(a.selector.join()),c=b.length;c--;)f(b[c])},a.init=function(b){for(var c in b)a[c]=b[c];a.render(),g()},a});