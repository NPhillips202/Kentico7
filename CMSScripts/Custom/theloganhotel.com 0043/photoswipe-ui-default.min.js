/*! PhotoSwipe Default UI - 4.0.3 - 2015-01-03
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
!function(n,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():n.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(n,t){var e,u,a,c,ht,ft,s,ut,tt,f,it,vt,at,lt,i,y,ni,nt,g,r=this,k=!1,h=!0,o=!0,gt={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(n,t){return n.title?(t.children[0].innerHTML=n.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return n.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return n.currItem.title||""},indexIndicatorSep:" / "},ct=function(n){var u;if(y)return!0;n=n||window.event;for(var i,f,e=n.target||n.srcElement,o=e.className,r=0;r<v.length;r++)i=v[r],i.onTap&&o.indexOf("pswp__"+i.name)>-1&&(i.onTap(),f=!0);f&&(n.stopPropagation&&n.stopPropagation(),y=!0,u=t.features.isOldAndroid?600:30,ni=setTimeout(function(){y=!1},u))},dt=function(){return!n.likelyTouchDevice||i.mouseUsed||screen.width>1200},l=function(n,i,r){t[(r?"add":"remove")+"Class"](n,"pswp__"+i)},st=function(){var n=1===i.getNumItemsFn();n!==lt&&(l(u,"ui--one-slide",n),lt=n)},rt=function(){l(s,"share-modal--hidden",o)},w=function(){return o=!o,o?(t.removeClass(s,"pswp__share-modal--fade-in"),setTimeout(function(){o&&rt()},300)):(rt(),setTimeout(function(){o||t.addClass(s,"pswp__share-modal--fade-in")},30)),o||ii(),!1},ri=function(t){t=t||window.event;var i=t.target||t.srcElement;return n.shout("shareLinkClick",t,i),i.href?i.hasAttribute("download")?!0:(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),o||w(),!1):!1},ii=function(){for(var n,e,u,f,o,t="",r=0;r<i.shareButtons.length;r++)n=i.shareButtons[r],u=i.getImageURLForShare(n),f=i.getPageURLForShare(n),o=i.getTextForShare(n),e=n.url.replace("{{url}}",encodeURIComponent(f)).replace("{{image_url}}",encodeURIComponent(u)).replace("{{raw_image_url}}",u).replace("{{text}}",encodeURIComponent(o)),t+='<a href="'+e+'" target="_blank" class="pswp__share--'+n.id+'"'+(n.download?"download":"")+">"+n.label+"</a>",i.parseShareButtonOut&&(t=i.parseShareButtonOut(n,t));s.children[0].innerHTML=t,s.children[0].onclick=ri},d=function(n){for(var r=0;r<i.closeElClasses.length;r++)if(t.hasClass(n,"pswp__"+i.closeElClasses[r]))return!0},b=0,ot=function(){clearTimeout(g),b=0,tt&&r.setIdle(!1)},et=function(n){n=n?n:window.event;var t=n.relatedTarget||n.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(g),g=setTimeout(function(){r.setIdle(!0)},i.timeToIdleOutside))},ti=function(){i.fullscreenEl&&(e||(e=r.getFullscreenAPI()),e?(t.bind(document,e.eventK,r.updateFullscreen),r.updateFullscreen(),t.addClass(n.template,"pswp--supports-fs")):t.removeClass(n.template,"pswp--supports-fs"))},kt=function(){i.preloaderEl&&(p(!0),f("beforeChange",function(){clearTimeout(at),at=setTimeout(function(){n.currItem&&n.currItem.loading?(!n.allowProgressiveImg()||n.currItem.img&&!n.currItem.img.naturalWidth)&&p(!1):p(!0)},i.loadingIndicatorDelay)}),f("imageLoadComplete",function(t,i){n.currItem===i&&p(!0)}))},p=function(n){vt!==n&&(l(it,"preloader--active",!n),vt=n)},wt=function(n){var r=n.vGap,f,e;dt()?(f=i.barsSize,i.captionEl&&"auto"===f.bottom?(c||(c=t.createEl("pswp__caption pswp__caption--fake"),c.appendChild(t.createEl("pswp__caption__center")),u.insertBefore(c,a),t.addClass(u,"pswp__ui--fit")),i.addCaptionHTMLFn(n,c,!0))?(e=c.clientHeight,r.bottom=parseInt(e,10)||44):r.bottom=f.top:r.bottom=f.bottom,r.top=f.top):r.top=r.bottom=0},bt=function(){i.timeToIdle&&f("mouseUsed",function(){t.bind(document,"mousemove",ot),t.bind(document,"mouseout",et),nt=setInterval(function(){b++,2===b&&r.setIdle(!0)},i.timeToIdle/2)})},pt=function(){f("onVerticalDrag",function(n){h&&.95>n?r.hideControls():!h&&n>=.95&&r.showControls()});var n;f("onPinchClose",function(t){h&&.9>t?(r.hideControls(),n=!0):n&&!h&&t>.9&&r.showControls()}),f("zoomGestureEnded",function(){n=!1,n&&!h&&r.showControls()})},v=[{name:"caption",option:"captionEl",onInit:function(n){a=n}},{name:"share-modal",option:"shareEl",onInit:function(n){s=n},onTap:function(){w()}},{name:"button--share",option:"shareEl",onInit:function(n){ft=n},onTap:function(){w()}},{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(n){ht=n}},{name:"button--close",option:"closeEl",onTap:n.close},{name:"button--arrow--left",option:"arrowEl",onTap:n.prev},{name:"button--arrow--right",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){e.isFullscreen()?e.exit():e.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(n){it=n}}],yt=function(){var r,e,n,o=function(u){var s,f,o;if(u)for(s=u.length,f=0;s>f;f++)for(r=u[f],e=r.className,o=0;o<v.length;o++)n=v[o],e.indexOf("pswp__"+n.name)>-1&&(i[n.option]?(t.removeClass(r,"pswp__element--disabled"),n.onInit&&n.onInit(r)):t.addClass(r,"pswp__element--disabled"))},f;o(u.children),f=t.getChildByClass(u,"pswp__top-bar"),f&&o(f.children)};r.init=function(){t.extend(n.options,gt,!0),i=n.options,u=t.getChildByClass(n.scrollWrap,"pswp__ui"),f=n.listen,pt(),f("beforeChange",r.update),f("doubleTap",function(t){var r=n.currItem.initialZoomLevel;n.getZoomLevel()!==r?n.zoomTo(r,t,333):n.zoomTo(i.getDoubleTapZoom(!1,n.currItem),t,333)}),f("preventDragEvent",function(n,t,i){var r=n.target||n.srcElement;r&&r.className&&n.type.indexOf("mouse")>-1&&(r.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(i.prevent=!1)}),f("bindEvents",function(){t.bind(u,"pswpTap click",ct),t.bind(n.scrollWrap,"pswpTap",r.onGlobalTap),n.likelyTouchDevice||t.bind(n.scrollWrap,"mouseover",r.onMouseOver)}),f("unbindEvents",function(){o||w(),nt&&clearInterval(nt),t.unbind(document,"mouseout",et),t.unbind(document,"mousemove",ot),t.unbind(u,"pswpTap click",ct),t.unbind(n.scrollWrap,"pswpTap",r.onGlobalTap),t.unbind(n.scrollWrap,"mouseover",r.onMouseOver),e&&(t.unbind(document,e.eventK,r.updateFullscreen),e.isFullscreen()&&(i.hideAnimationDuration=0,e.exit()),e=null)}),f("destroy",function(){i.captionEl&&(c&&u.removeChild(c),t.removeClass(a,"pswp__caption--empty")),s&&(s.children[0].onclick=null),t.removeClass(u,"pswp__ui--over-close"),t.addClass(u,"pswp__ui--hidden"),r.setIdle(!1)}),i.showAnimationDuration||t.removeClass(u,"pswp__ui--hidden"),f("initialZoomIn",function(){i.showAnimationDuration&&t.removeClass(u,"pswp__ui--hidden")}),f("initialZoomOut",function(){t.addClass(u,"pswp__ui--hidden")}),f("parseVerticalMargin",wt),yt(),i.shareEl&&ft&&s&&(o=!0),st(),bt(),ti(),kt()},r.setIdle=function(n){tt=n,l(u,"ui--idle",n)},r.update=function(){h&&n.currItem?(r.updateIndexIndicator(),i.captionEl&&(i.addCaptionHTMLFn(n.currItem,a),l(a,"caption--empty",!n.currItem.title)),k=!0):k=!1,st()},r.updateFullscreen=function(){l(n.template,"fs",e.isFullscreen())},r.updateIndexIndicator=function(){i.counterEl&&(ht.innerHTML=n.getCurrentIndex()+1+i.indexIndicatorSep+i.getNumItemsFn())},r.onGlobalTap=function(u){u=u||window.event;var f=u.target||u.srcElement;if(!y)if(u.detail&&"mouse"===u.detail.pointerType)d(f)&&n.close(),t.hasClass(f,"pswp__img")&&(1===n.getZoomLevel()&&n.getZoomLevel()<=n.currItem.fitRatio?n.close():n.toggleDesktopZoom(u.detail.releasePoint));else if(i.tapToToggleControls&&(h?r.hideControls():r.showControls()),i.tapToClose&&(t.hasClass(f,"pswp__img")||d(f)))return void n.close()},r.onMouseOver=function(n){n=n||window.event;var t=n.target||n.srcElement;l(u,"ui--over-close",d(t))},r.hideControls=function(){t.addClass(u,"pswp__ui--hidden"),h=!1},r.showControls=function(){h=!0,k||r.update(),t.removeClass(u,"pswp__ui--hidden")},r.supportsFullscreen=function(){var n=document;return!!(n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen)},r.getFullscreenAPI=function(){var t,r=document.documentElement,u="fullscreenchange";return r.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:u}:r.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+u}:r.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+u}:r.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return ut=i.closeOnScroll,i.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?n.template[this.enterK]():void n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return i.closeOnScroll=ut,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})