/*!
  hey, [be]Lazy.js - v1.6.2 - 2016.05.09
  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)
  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy
*/
(function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.Blazy=t()})(this,function(){"use strict";function k(n){var t=n._util;t.elements=g(n.options.selector),t.count=t.elements.length,t.destroyed&&(t.destroyed=!1,n.options.container&&i(n.options.container,function(n){r(n,"scroll",t.validateT)}),r(window,"resize",t.saveViewportOffsetT),r(window,"resize",t.validateT),r(window,"scroll",t.validateT)),b(n)}function b(n){for(var i=n._util,r,t=0;t<i.count;t++)r=i.elements[t],(d(r)||s(r,n.options.successClass))&&(n.load(r),i.elements.splice(t,1),i.count--,t--);i.count===0&&n.destroy()}function d(t){var i=t.getBoundingClientRect();return i.right>=n.left&&i.bottom>=n.top&&i.left<=n.right&&i.top<=n.bottom}function w(n,a,v){var d;if(!s(n,v.successClass)&&(a||v.loadInvisible||n.offsetWidth>0&&n.offsetHeight>0))if(d=n.getAttribute(c)||n.getAttribute(v.src),d){var nt=d.split(v.separator),b=nt[y&&nt.length>1?1:0],tt=h(n,"img");if(tt||n.src===undefined){var w=new Image,k=function(){v.error&&v.error(n,"invalid"),o(n,v.errorClass),t(w,"error",k),t(w,"load",g)},g=function(){if(tt){f(n,b),u(n,p,v.srcset);var r=n.parentNode;r&&h(r,"picture")&&i(r.getElementsByTagName("source"),function(n){u(n,p,v.srcset)})}else n.style.backgroundImage='url("'+b+'")';e(n,v),t(w,"load",g),t(w,"error",k)};r(w,"error",k),r(w,"load",g),f(w,b)}else f(n,b),e(n,v)}else h(n,"video")?(i(n.getElementsByTagName("source"),function(n){u(n,l,v.src)}),n.load(),e(n,v)):(v.error&&v.error(n,"missing"),o(n,v.errorClass))}function e(n,t){o(n,t.successClass),t.success&&t.success(n),n.removeAttribute(t.src),i(t.breakpoints,function(t){n.removeAttribute(t.src)})}function f(n,t){n[l]=t}function u(n,t,i){var r=n.getAttribute(i);r&&(n[t]=r,n.removeAttribute(i))}function h(n,t){return n.nodeName.toLowerCase()===t}function s(n,t){return(" "+n.className+" ").indexOf(" "+t+" ")!==-1}function o(n,t){s(n,t)||(n.className+=" "+t)}function g(n){for(var i=[],r=document.querySelectorAll(n),t=r.length;t--;i.unshift(r[t]));return i}function a(t){n.bottom=(window.innerHeight||document.documentElement.clientHeight)+t,n.right=(window.innerWidth||document.documentElement.clientWidth)+t}function r(n,t,i){n.attachEvent?n.attachEvent&&n.attachEvent("on"+t,i):n.addEventListener(t,i,!1)}function t(n,t,i){n.detachEvent?n.detachEvent&&n.detachEvent("on"+t,i):n.removeEventListener(t,i,!1)}function i(n,t){var r,i;if(n&&t)for(r=n.length,i=0;i<r&&t(n[i],i)!==!1;i++);}function v(n,t,i){var r=0;return function(){var u=+new Date;u-r<t||(r=u,n.apply(i,arguments))}}var c,n,y,l="src",p="srcset";return function(r){var e,u,f;document.querySelectorAll||(e=document.createStyleSheet(),document.querySelectorAll=function(n,t,i,r,u){for(u=document.all,t=[],n=n.replace(/\[for\b/gi,"[htmlFor").split(","),i=n.length;i--;){for(e.addRule(n[i],"k:v"),r=u.length;r--;)u[r].currentStyle.k&&t.push(u[r]);e.removeRule(0)}return t}),u=this,f=u._util={},f.elements=[],f.destroyed=!0,u.options=r||{},u.options.error=u.options.error||!1,u.options.offset=u.options.offset||100,u.options.success=u.options.success||!1,u.options.selector=u.options.selector||".b-lazy",u.options.separator=u.options.separator||"|",u.options.container=u.options.container?document.querySelectorAll(u.options.container):!1,u.options.errorClass=u.options.errorClass||"b-error",u.options.breakpoints=u.options.breakpoints||!1,u.options.loadInvisible=u.options.loadInvisible||!1,u.options.successClass=u.options.successClass||"b-loaded",u.options.validateDelay=u.options.validateDelay||25,u.options.saveViewportOffsetDelay=u.options.saveViewportOffsetDelay||50,u.options.srcset=u.options.srcset||"data-srcset",u.options.src=c=u.options.src||"data-src",y=window.devicePixelRatio>1,n={},n.top=0-u.options.offset,n.left=0-u.options.offset,u.revalidate=function(){k(this)},u.load=function(n,t){var r=this.options;n.length===undefined?w(n,t,r):i(n,function(n){w(n,t,r)})},u.destroy=function(){var r=this,n=r._util;r.options.container&&i(r.options.container,function(i){t(i,"scroll",n.validateT)}),t(window,"scroll",n.validateT),t(window,"resize",n.validateT),t(window,"resize",n.saveViewportOffsetT),n.count=0,n.elements.length=0,n.destroyed=!0},f.validateT=v(function(){b(u)},u.options.validateDelay,u),f.saveViewportOffsetT=v(function(){a(u.options.offset)},u.options.saveViewportOffsetDelay,u),a(u.options.offset),i(u.options.breakpoints,function(n){if(n.width>=window.screen.width)return c=n.src,!1}),setTimeout(function(){k(u)})}})