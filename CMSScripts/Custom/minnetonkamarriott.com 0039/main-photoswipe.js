var initPhotoSwipeFromDOM=function(a){for(var b=function(a){for(var e,f,g,h,b=a.childNodes,c=b.length,d=[],i=0;i<c;i++)e=b[i],1===e.nodeType&&(f=e.children[0],g=f.getAttribute("data-size").split("x"),h={src:f.getAttribute("href"),w:parseInt(g[0],10),h:parseInt(g[1],10)},e.children.length>1&&(h.title=e.children[1].innerHTML),f.children.length>0&&(h.msrc=f.children[0].getAttribute("src")),h.el=e,d.push(h));return d},c=function a(b,c){return b&&(c(b)?b:a(b.parentNode,c))},d=function(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.target||a.srcElement,d=c(b,function(a){return a.tagName&&"FIGURE"===a.tagName.toUpperCase()});if(d){for(var j,e=d.parentNode,g=d.parentNode.childNodes,h=g.length,i=0,k=0;k<h;k++)if(1===g[k].nodeType){if(g[k]===d){j=i;break}i++}return j>=0&&f(j,e),!1}},e=function(){var a=window.location.hash.substring(1),b={};if(a.length<5)return b;for(var c=a.split("&"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split("=");e.length<2||(b[e[0]]=e[1])}return b.gid&&(b.gid=parseInt(b.gid,10)),b.hasOwnProperty("pid")?(b.pid=parseInt(b.pid,10),b):b},f=function(a,c,d){var f,g,h,e=document.querySelectorAll(".pswp")[0];h=b(c),g={index:a,history:!1,mouseUsed:!0,galleryUID:c.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(a){var b=h[a].el.getElementsByTagName("img")[0],c=window.pageYOffset||document.documentElement.scrollTop,d=b.getBoundingClientRect();return{x:d.left,y:d.top+c,w:d.width}}},d&&(g.showAnimationDuration=0),f=new PhotoSwipe(e,PhotoSwipeUI_Default,h,g),f.init(),pswp.updateSize(!0)},g=document.querySelectorAll(a),h=0,i=g.length;h<i;h++)g[h].setAttribute("data-pswp-uid",h+1),g[h].onclick=d;var j=e();j.pid>0&&j.gid>0&&f(j.pid-1,g[j.gid-1],!0)};initPhotoSwipeFromDOM(".simple-gallery");