var initPhotoSwipeFromDOM=function(n){for(var o=function(n){for(var o=n.childNodes,s=o.length,e=[],t,r,u,i,f=0;f<s;f++)(t=o[f],t.nodeType===1)&&(r=t.children[0],u=r.getAttribute("data-size").split("x"),i={src:r.getAttribute("href"),w:parseInt(u[0],10),h:parseInt(u[1],10)},t.children.length>1&&(i.title=t.children[1].innerHTML),r.children.length>0&&(i.msrc=r.children[0].getAttribute("src")),i.el=t,e.push(i));return e},f=function f(n,t){return n&&(t(n)?n:f(n.parentNode,t))},s=function(n){var s,t,i;if(n=n||window.event,n.preventDefault?n.preventDefault():n.returnValue=!1,s=n.target||n.srcElement,t=f(s,function(n){return n.tagName&&n.tagName.toUpperCase()==="FIGURE"}),t){var h=t.parentNode,r=t.parentNode.childNodes,c=r.length,o=0,e;for(i=0;i<c;i++)if(r[i].nodeType===1){if(r[i]===t){e=o;break}o++}return e>=0&&u(e,h),!1}},h=function(){var u=window.location.hash.substring(1),n={},r,t,i;if(u.length<5)return n;for(r=u.split("&"),t=0;t<r.length;t++)r[t]&&((i=r[t].split("="),i.length<2)||(n[i[0]]=i[1]));return(n.gid&&(n.gid=parseInt(n.gid,10)),!n.hasOwnProperty("pid"))?n:(n.pid=parseInt(n.pid,10),n)},u=function(n,t,i){var e=document.querySelectorAll(".pswp")[0],f,r,u;u=o(t),r={index:n,index:n,history:!1,mouseUsed:!0,galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(n){var i=u[n].el.getElementsByTagName("img")[0],r=window.pageYOffset||document.documentElement.scrollTop,t=i.getBoundingClientRect();return{x:t.left,y:t.top+r,w:t.width}}},i&&(r.showAnimationDuration=0),f=new PhotoSwipe(e,PhotoSwipeUI_Default,u,r),f.init()},r=document.querySelectorAll(n),i,t=0,e=r.length;t<e;t++)r[t].setAttribute("data-pswp-uid",t+1),r[t].onclick=s;i=h(),i.pid>0&&i.gid>0&&u(i.pid-1,r[i.gid-1],!0)};initPhotoSwipeFromDOM(".simple-gallery")